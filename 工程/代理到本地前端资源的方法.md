ğŸ¾ ä»£ç†åˆ°æœ¬åœ°å‰ç«¯èµ„æºçš„æ–¹æ³•

ğŸ•˜ 2019.10.21 ç”± hoanfirst ç¼–è¾‘

æœ‰æ—¶å€™çº¿ä¸Šè¿è¡Œçš„é¡¹ç›®å‡ºç°äº†å‰ç«¯é—®é¢˜ï¼Œä¸ºäº†**æœ€æ¥è¿‘è¿è¡Œç¯å¢ƒ**å’Œ**æ–¹ä¾¿ç¨‹åºå‘˜ä¿®æ”¹å‰ç«¯ä»£ç **ï¼Œå¯ä»¥å°†å½“å‰é¡µé¢æŠŠåŠ è½½çš„å‰ç«¯èµ„æºå…¨éƒ¨ä»£ç†åˆ°æœ¬åœ°çš„å‰ç«¯é¡¹ç›®æ‰€å¤„çš„ä½ç½®ã€‚

å½“ç„¶ï¼Œä¹Ÿå¯ä»¥ç›´æ¥è¿è¡Œæœ¬åœ°çš„å‰ç«¯é¡¹ç›®ï¼Œé…ç½®å¥½è¯·æ±‚ä»£ç†ä¹Ÿè¡Œï¼Œä½†æ˜¯è¿™æ ·ä¸èƒ½æœ€æ¥è¿‘è¿è¡Œç¯å¢ƒï¼Œæœ‰æ—¶å€™æ— æ³•å¤ç°å‡ºé—®é¢˜ã€‚

é‚£ä¹ˆï¼Œå°†å½“å‰ç½‘é¡µçš„å‰ç«¯èµ„æºæ˜ å°„åˆ°æœ¬åœ°å‰ç«¯é¡¹ç›®æœ‰å“ªäº›æ–¹æ³•ï¼Ÿ

### 1. åˆ©ç”¨æµè§ˆå™¨æ’ä»¶

`chrome`: xswitch, proxy switchysharp, reres. (æ¨èä¸€ä¸ª[ç¦»çº¿æ’ä»¶ç½‘ç«™](https://www.extfans.com/))

ä»¥`xswitch`ä¸ºä¾‹ï¼š

```

{
  // For more information, visit: https://github.com/yize/xswitch
  
  "proxy": [
    [
      "https://unpkg.com/react@16.4.1/umd/react.production.min.js",
      "https://unpkg.com/react@16.4.1/umd/react.development.js"
    ],
    [
      "https://unpkg.company.com/app.min.js",
      "http://localhost.com:8000/app.js"
    ],
    // [
    // "(.*)/path1/path2/(.*)", // https://www.sample.com/path1/path2/index.js
    // "http://127.0.0.1:3000/$2", // http://127.0.0.1:3000/index.js
    // ],
  ],
  
  // urls that want CORS
  "cors": [
    // "mocks.a.com",
    // "mocks.b.com"
  ]
}

```

### 2. åˆ©ç”¨Nginxçš„åå‘ä»£ç†

åˆ©ç”¨Nginxä»£ç†å±‚å°†å‰ç«¯èµ„æºè¯·æ±‚ä»£ç†åˆ°æœ¬åœ°å‰ç«¯èµ„æºã€‚

ç¤ºä¾‹ï¼š

```

server {
  listen 80; //127.0.0.1:80
  server_name product.company.com; //éœ€è¦é…ç½®hosts: 127.0.0.1 product.company.com
  
  location ~ ^/
}

```

### 3. åˆ©ç”¨æŠ“åŒ…å·¥å…·

wireshark, fiddler, charles

æŠ“åŒ…å·¥å…·ä¸€èˆ¬æä¾›`æœ¬åœ°æ–‡ä»¶æ˜ å°„åŠŸèƒ½`ï¼Œå¯å°†çº¿ä¸Šèµ„æºä»£ç†åˆ°æœ¬åœ°èµ„æºã€‚

```

Map form:
  Host: ...
  Port: ...
  Path: ...

Map To:
  Local path: localhost.com:8000/app.js

```

