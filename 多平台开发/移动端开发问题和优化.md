🐾 移动端开发问题和优化

🕘 2020.01.07 由 hoanfirst 编辑

:cupid: 原文segmentfault.com/a/1190000011338800

1. 页面和设备宽度1:1且不允许缩放

```html
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1,minimum-scale=1,user-scalable=no">
```


2. 禁止ios自动识别电话

```html
<meta name="format-detection" content="telephone=no"/>
```


3. 禁止android自动识别邮箱

```html
<meta name="format-detection" content="email=no"/>
```


4. 点击a标签打电话和发短信

```html
<a href="tel:020-11811922">打电话给:0755-10086</a>
<a href="10086">发短信给: 10086</a>
```


5. 移动端click屏幕有延迟

因为对于click事件，移动端要等待确认是否双击事件，一般会有300ms的延迟，即两次点击事件间隔小于300ms就认为是双击。

但这样明显用户体验不好，解决方案是对于移动端页面上不建议使用click，而是采用touchstart或touchend替代click，或者封装tap事件（touchstart+touchmove+touchend）来替代click。


6. 图片优化-尽量使用base64编码图片代替url图片

减少请求


7. 图片优化-压缩

如果必须使用url图片，尽量保证图片是合适但格式、尺寸。


8. 图片优化-懒加载/按需加载

把非首屏的图片资源进行按需加载


9. 谨慎使用fixed，建议使用absolute替代

ios下fixed元素容易定位出错，如软键盘弹出时会影响fixed元素定位（发生元素错位，滚动一下又恢复），有时会出现闪屏效果。


10. 去掉ios系统元素被触摸时默认产生一个半透明灰色遮罩

```css
a,button,input,textarea{ -webkit-tap-highlight-color: rgba(0,0,0,0;) }
```

11. 去掉ios系统input元素默认样式

```css
input,button,textarea{-webkit-appearance: none;}
```



12. modal框上下滑动会触发底层页面的滚动


13. 上下轮播图，上下滑动会触发底层页面的滚动


14. 。。。


