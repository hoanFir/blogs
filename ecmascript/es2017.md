
```

ECMAScript ç‰ˆæœ¬ææ¡ˆï¼š

strawman(æœ€åˆæƒ³æ³•çš„æäº¤)ã€

proposal(ç”±æŠ€æœ¯å§”å‘˜ä¼šè‡³å°‘ä¸€åæˆå‘˜å€¡å¯¼çš„æ­£å¼ææ¡ˆæ–‡ä»¶)ã€

draft(åŠŸèƒ½è§„èŒƒçš„åˆå§‹ç‰ˆæœ¬è‰æ¡ˆ)ã€

candidate(ææ¡ˆè§„èŒƒé€šè¿‡å®¡æŸ¥å¹¶ä»ŽåŽ‚å•†é‚£æ”¶é›†åé¦ˆ)ã€

finished(ææ¡ˆå‡†å¤‡åŠ å…¥ECMAScriptï¼Œä½†æµè§ˆå™¨æˆ–nodejså®žçŽ°è¿˜ä¸ä¸€å®š)

```


### ä¸€ã€Object.values()

Object.values is similar to Object.keys() but returns all the values of the Object's own properties excluding any values in the prototypical chain.

åœ¨ ECMAScript 2017 ä¹‹å‰ï¼ŒèŽ·å–å¯¹è±¡å±žæ€§çš„å€¼å¯ä»¥ä½¿ç”¨ Object.keys()ï¼Œä½†è¿”å›žçš„æ˜¯å±žæ€§åï¼Œå› æ­¤è¿˜éœ€è¦é…åˆ map æ–¹æ³•æ¥èŽ·å–ã€‚

```javascript

const peos = {
  name: 1,
  age: 18
}

const vals = Object.keys(peos).map(key => peos[key]);
[1, 18]

const values = Object.values(peos);
[1, 18]

```


### äºŒã€Object.entries()

to returns both keys and values in the array.

This makes it very simple to do things like using objects in loops or converting objects into Maps.

åœ¨ ECMAScript 2017 ä¹‹å‰ï¼ŒèŽ·å–å¹¶æ“ä½œå¯¹è±¡å±žæ€§å€¼å¯¹å¯ä»¥ä½¿ç”¨ Object.keys() é…åˆ forEach æ–¹æ³•æ¥éåŽ†ã€‚

```javascript

//1 loop

const peos = {
  name: 1,
  age: 18
}

Object.keys(peos).forEach(key => {
  peos[key]...
});

for(let [key, value] of Object.entries(peos)) {
  key...value...
}
Object.entries(peos).map(([key, value]) => {})


//2 Map

const peos = {
  name: 1,
  age: 18
}
const map1 = nwe Map();

Object.keys(peos).forEach(key => {
  map1.set(key, peos[key]);
});
map1 === { 'name' => 1, 'age' => 18 }

const map2 = new Map(Object.entries(peos));
map2 === { 'name' => 1, 'age' => 18 }

```


### ä¸‰ã€String padding

`String.prototype.padStart` and `String.prototype.padEnd`.

Allow appending/prepending either an empty string or some other string to the start or the end of the original string.

å½“æƒ³è¦åœ¨æ‰“å°åœºæ™¯ä¸­å¯¹é½æ—¶ï¼Œè¿™å°±æ´¾ä¸Šç”¨åœºäº†ã€‚

```javascript

'someString'.padStart(numberOfCharcters [,stringForPadding]); 

//1

'5'.padStart(10) // '          5'
'5'.padStart(10, '0') //"0000000005"
'12'.padStart(10, '0') //"0000000015"


//2

'5'.padEnd(10) // '5         '
const cars = {
  'BMW': '10',
  'Tesla': '5',
}
Object.entries(cars).map(([name, count]) => {
  console.log(`${name.padEnd(20, ' -')} Count: ${count.padStart(3, '0')}`)
})

BMW - - - - - - - Count: 010
Tesla - - - - - - Count: 005

```

### å››ã€Object.getOwnPropertyDescriptors()

returns all the details for all the properties of a given object.

å¯¹è±¡å±žæ€§æœ‰ä¸¤ç§ç±»åž‹ï¼šæ•°æ®å±žæ€§å’Œè®¿é—®å™¨å±žæ€§ã€‚ä»–ä»¬æ‰€æ‹¥æœ‰çš„ç‰¹æ€§ä¸æ˜¯å®Œå…¨ä¸€è‡´çš„ã€‚æ¯”å¦‚è®¿é—®å™¨å±žæ€§æ²¡æœ‰ `value`ï¼Œæœ‰ `getter` å’Œ `setter`ã€‚

ä¸ºä»€ä¹ˆè¦å¼•å…¥è¿™ä¸ªï¼Ÿ

åœ¨ ECMAScript 2017 ä¹‹å‰ï¼Œæµ…å¤åˆ¶ä¸€ä¸ªå¯¹è±¡å¯ä»¥ä½¿ç”¨ Object.assignï¼Œä½†æ˜¯è¿™ä¸ªæ–¹æ³•ä¸ä¼šå¤åˆ¶ `getter` and `setter` functions.

```javascript

//1

let Car = {
  name: 'BMW',
  price: 100,
  set discount(x) {
    this.d = x;
  }
  get discount() {
    retrun this.d;
  },
}

//æ‰“å° discount è®¿é—®å™¨å±žæ€§ä¿¡æ¯
Object.getOwnPropertyDescriptor(Car, 'discount'));
{
  get: [Function: get],
  set: [Function: set],
  enumerable: true,
  configurable: true,
}

//å¤åˆ¶
const copyCar = Object.assign({}, Car);
Object.getOwnPropertyDescriptor(copyCar, 'discount'));
{
  value: undefined,
  writable: true,
  enumerable: true,
  configurable: true,
}


//2

let Car = {
  name: 'BMW',
  price: 100,
  set discount(x) {
    this.d = x;
  }
  get discount() {
    retrun this.d;
  },
}

//å¤åˆ¶
const copyCar = Object.defineProperties({}, Object.getOwnPropertyDescriptor(Car));

```

### äº”ã€å‡½æ•°å‚æ•°åˆ—è¡¨ç»“å°¾å…è®¸é€—å·

to help with tools like git blame to ensure only new developers get blamed.

åœ¨ ECMAScript 2017 ä¹‹å‰ï¼Œè¦å¯¹ä¸€ä¸ªå·²æœ‰å‡½æ•°è¿›è¡Œæ‰©å±•ï¼Œæ¯”å¦‚å¢žåŠ å‚æ•°ï¼Œå¦‚ä»£ç ï¼š

```javascript

//developer #1
function test (
  name, 
  age
  ){
    ...
}

//developer #2
function test (
  name, 
  age,
  job
  ){
    ...
}

```

åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œä¿®æ”¹åŽçš„ä»£ç åœ¨ç”¨å¦‚ git ç­‰å·¥å…·æäº¤åˆ°è¿œç¨‹ä»“åº“æ—¶ï¼Œ`age` è¿™ä¸€è¡Œä»£ç ä¹Ÿä¼šè¢«æ ‡è®°ä¸º `update`ï¼Œä½†å…¶è·Ÿå½“å‰ commit çš„ç¨‹åºå‘˜å…¶å®žæ˜¯æ— å…³çš„ã€‚

å› æ­¤ï¼ŒæŽ¨èåœ¨å‡½æ•°æœ€åŽä¸€ä¸ªå‚æ•°åŽåŠ ä¸Šé€—å·ã€‚

```javascript

//developer #1
function test (
  name, 
  age,
  ){
    ...
}

//developer #2
function test (
  name, 
  age,
  job
  ){
    ...
}

```


### å…­ã€async/await ðŸŒŸðŸŒŸðŸŒŸ

Async functions allows developers to not deal with callback hell and make the entire code look simple.

The `async` keyword tells the javascript compiler to treat the funciton differently. The compiler pauses whenever it reaches the `await` keyword within that function.

The expressin after `await` will returns a promise, and waits until the promise is resolved or rejected.

åœ¨ ECMAScript 2017 ä¹‹å‰ï¼Œå¯¹äºŽå¼‚æ­¥ï¼Œå¯ä»¥ä½¿ç”¨ Promise æˆ– callbackã€‚ç†è§£è¿™ä¸‰è€…ä¹‹é—´çš„å‘å±•å’Œå¼‚åŒå°¤ä¸ºé‡è¦ã€‚

```javascript

function getUser(userId) {

}

function getBankBalance(user) {

}


//1

function getAmount1(userId) {
  getUser(userId)
    .then(getBankBalance)
    .then(amount => {
      ...
    });
}

//2
async function getAmount2(userId) {
  var user = await getUser(userId);
  var amount = await getBankBalance(user);
  
  ...
}
```



