🐾 常见的Web应用程序安全问题

🕘 2019.10.19 由 hoanfirst 编辑

引起的原因：

1. 应用程序的某个组件的恶意数据在另一个组件中被当作了合法代码，这就造成了安全问题。

2. 对涉密信息的不当处理


### web应用程序安全框架的威胁或攻击、对策

类别|威胁或攻击|对策
-|-||
输入和数据验证|缓冲区溢出、跨站点脚本、SQL注入、标准化攻击...||
身份验证|网络窃听、强力攻击、字典攻击、cookie重播攻击、盗窃凭据...||
授权|提升特权、泄漏机密数据、篡改数据、引诱攻击...||
配置管理|未经授权访问管理界面、未经授权访问配置存储、检索明文配置机密信息、缺乏个人问责制、越权的进程和服务账户...||
敏感数据|访问存储中的敏感数据、访问内存中的敏感数据、网络侦听、信息泄漏...||
会话管理|会话攻击、会话重播、中间人攻击...||
加密|丢失解密密钥、加密破解...||
参数操作|查询字符串操作、表单域操作、cookie操作、http headers操作...||
异常管理|显示敏感系统或应用程序细节、拒绝服务攻击...||
审核与记录|用户拒绝执行某项操作、攻击者利用来某个漏洞而没有留下踪迹、攻击者能够掩盖踪迹...||


### 1.SQL注入

产生：

```

攻击者通过操纵程序的某种输入，在连接到SQL数据的应用程序上执行自己所构造的SQL语句。

比如，攻击者把SQL命令插入到Web表单的输入域或页面请求的query中，欺骗服务器执行恶意的SQL命令。因为在某些表单中，会直接把用户输入的内容用来构造动态SQL命令，或作为存储过程的输入参数。

示例：

Select * from sys_user where username='{username}';

攻击者输入：username='or'1=1

Select * from sys_user where username=''or'1=1';

后果：攻击者跳过了用户名的验证，实现了入侵。

```

预防：

```

过滤所有输入，确保输入字段只包含所需字符；尽量避免使用动态生成的SQL。

```


### 2.跨站点执行脚本

跨站点执行脚本，cross site scriping，又叫xss。

产生：

```

利用Internet某些Web站点的受信任级别高，来自非受信任环境的攻击者在这个受信任Web站点上注入数据，使其作为脚本执行。

跨站执行脚本可以用来访问数据，如用户的cookies，有了cookie就可以在任意能接进互联网的浏览器登陆目标网站，并以其他人的身份登录做破坏。

示例：

<input type="text" name="address" value="value">

value是来自用户的输入。

攻击者输入："/><script>alert(document.cookie)</script><!-

<input type="text" name="address" value=""/><script>alert(document.cookie)</script><!-">

后果：嵌入的JavaScript代码被执行

```

预防：

```

对输入内容进行转义。

```


### 3.跨站点伪装请求

跨站点伪装请求，cross site request forgery，csrf。

产生：

```

攻击者在用户不知情的情况下在用户登录过的Web站点里发起攻击。

如邮箱的钓鱼邮件或bbs站点的钓鱼链接。由于用户当前已经登陆了某个邮箱站点或bbs站点，用户点击里钓鱼链接之后进入钓鱼网站，当他在浏览这个钓鱼网站时，可能因为某个图片或某个弹窗吸引你点击一下，此时可能就会触发一个攻击者构造的JavaScript点击事件。一般攻击者会构造一个bbs发帖的请求，去往你的bbs发帖，由于当前你的浏览器状态已经是登陆状态，就可以发帖成功。

```

预防：

```

在客户端发起的请求添加随机值等额外内容，让钓鱼网站无法正常伪造请求。


```
