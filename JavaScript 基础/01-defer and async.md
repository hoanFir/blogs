
在向 HTML 页面中插入 JavaScript 的主要方法，就是 `<script>` 元素。

在不将脚本放在 `</body>`前或者使用 defer 或 async 属性时，浏览器读会按照 `<script>` 元素在页面中出现到先后顺序进行依次解析。但如果下载、解析和执行的脚本过大，就会导致呈现页面时出现明显到延迟。

因此，为了避免延迟问题。现代 Web 应用程序一般把全部 JavaScript 引用放在 `<body>` 元素中。

另外，HTML 4.01 为 script 元素定义了两个属性：异步 async 和 延迟 defer，支持改变处理脚本的行为。


### 一、defer/延迟

defer，表示脚本立即下载，但延迟到文档完全被解析和显示之后，即等浏览器遇到 `</html>` 标签后再执行。

注意：

1. 根据HTML5 规范，要求延迟脚本按照出现的先后顺序执行，并先于 DOMContentLoaded 事件执行。但在实际中，设置两 defer 属性的延迟脚本并不一定会按照顺序执行，也不一定会在 DOMContentLoaded 事件触发之前执行。**因此，最好只包含一个延迟脚本**。

2. 某些小众浏览器会忽略这个属性，**因此，把脚本放在 body 元素里仍然是最佳选择**。


### 二、async/异步

async，表示不让页面等待脚本下载、解析和执行，而是异步进行，与 defer 不同在于，异步脚本并不能保证所有定义了该属性的脚本能按先后顺序执行。

注意：

1. 因为不按顺序，**因此，确保异步脚本之间互不依赖非常重要**。

2. 异步脚本一定会在页面的 load 事件之前执行，但可能在 DOMContentLoaded 事件之前或之后执行。

3. 某些浏览器会忽略这个属性，**因此，把脚本放在 body 元素里仍然是最佳选择**。



