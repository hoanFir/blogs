🐾 event-loop理解一

🕘 2019.10.25 由 hoanfirst 编辑

### 概述

对于，event-loop，涉及到许多知识，个人总结如下：

- 浏览器组成中的进程和线程
- event-loop
- Promise引入的microTask
- RequestAnimationFrame


### 一、浏览器组成中的进程和线程

首先，浏览器由`用户界面`、`浏览器引擎`、`渲染引擎（网络、UI后端、JS解释器）`、`数据存储`组成。

1. 用户界面：包括地址栏、后退/前进/刷新按钮、书签等窗口上除了网页显示区域以外的部分。
2. 浏览器引擎：提供查询和操作渲染引擎的接口。
3. 渲染引擎：显示请求的内容，比如请求返回的内容为html，它负责解析html及css，并将解析后的结果显示到窗口中。平时常说的浏览器内核其实就是指渲染引擎。
4. 网络：用于网络请求，如http请求。它包括平台无关的接口和各平台独立的实现。
5. UI后端：用于绘制基础组件，如组合选择框及对话框等浏览器基本组件，具有不特定于平台的通用接口。
6. js解释器：用来解释执行js代码。
7. 数据存储：浏览器需要在硬盘中保存类似cookie的各种数据，html5定义了web database技术，这是一种轻量级完整的客户端存储技术。
