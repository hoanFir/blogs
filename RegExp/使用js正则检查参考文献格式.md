🐾 使用js正则检查参考文献格式

🕘 2020.01.07 由 hoanfirst 编辑

本文正则设计基于《学术期刊电子稿件参考文献自动校验的XML解决方案/张春玲》。

### 场景

在《学术期刊电子稿件参考文献自动校验的XML解决方案》中是先将word文档先转换为半结构化的WordML文档，WordML具有XML文档的结构但非常复杂，接着通过XSLT样式表文件判断参考文献标注方式并依据判断结果从WordML文档的不同位置提取参考文献信息，整合生成独立的“参考文献.xml“文件，最后进入参考文献校验流程，基于正则表达式来校验。

而对于我们的需求，能获取到参考文献的text内容，因此可以直接进入“参考文献校验流程”。

### 参考文献的校验逻辑设计与分析

语义化的本质是，以计算机应用程序可以理解的方式描述事物。

首先，根据《文后参考文献著录规则》（GB/T7714--2005），使用正则表达式将其改写为计算机可读的结构化语法规则，再将其用于匹配“参考文献文本内容”。

#### 1. 参考文献标注的校验逻辑

我们的需求并不要求对整篇文章里的“参考文献标注”部分进行检测，因此该部分可忽略。

#### 2. 参考文献著录格式的校验逻辑

重点。

著录格式匹配逻辑如下图：

![](https://github.com/hoanFir/blogs/blob/master/RegExp/images/%E6%88%AA%E5%B1%8F2020-01-07%E4%B8%8B%E5%8D%884.55.13.png?raw=true)


##### 2.1 提取一条参考文献 

##### 2.2 提取参考文献类型标志

##### 2.3 调用相应类别的正则表达式进行匹配

##### 2.1 分割参考文献，判断著录项


#### 3. 参考文献出处链接的校验逻辑

我们的需求并不要求对“参考文献a标签链接”部分进行检测，因此该部分可忽略。
