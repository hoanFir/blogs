🐾 正则表达式入门

🕘 2019.11.22 由 hoanfirst 编辑

正则表达式，regular expressions，are patterns used to match character combination in strings.


### 一、应用

1. 防止注入

```

验证表单输入，从而保证数据的合法性

```

2. 搜索数据

```

按照某种规则，提取想要的数据

```

3. ...



### 二、RegExp in Javascript

在Javascript中，使用正则表达式可以通过RegExp对象和String对象的一些方法：

1. RegExp对象

`exec()`、`test()`

2. String对象

`match()`、`matchAll()`、`replace()`、`search()`、`split()`


在JavaScript中，创建一个regular expression有两种方法：

1. RegExp literal

```
let reg = /ab+c/

RegExp literal在加载脚本时就进行编译。如果表达式保持不变，那么使用它可以提高性能。
```

2. RegExp对象的构造函数

```
let reg = new RegExp('ab+c');

使用构造函数会在运行时编译。所以当开发者知道表达式pattern将发生更改时，或者不知道pattern需要从其他来源(例如用户输入)获取时，建议使用该方法。
```



### 三、pattern

pattern，is composed of simple characters, such as `/abc/`, or a combination of simple and special characters, such as `/ab*c/`, or with the parentheses, such as `/Chapter (\d+)\.\d*/`。


#### 3.1 simple patterns

`/abc/`，完全匹配或直接匹配才行，exact=container+sequence）


#### 3.2 special characters


all the special characters that can be used in RegExp:

Character|Meaning|
-|-|
`\`｜**(1)** A backslash that precedes a non-special character indicates that the next character is special and is not to be interpreted literally. a `b` will be interpreted literally, but a `\b` denotes a word boundary. **(2)** A backslash that precedes a special character indicates that the next character is not special and should be interpreted literally. **(3)** 注意，使用RegExp对象时，应该对`\`进行转义，如`/[a-z]\s/i`，应为`RegExp("[a-z]\\s", "i")`|
^|**(1)** 字符串首部. **(2)** 在字符簇（character set）里时表示否定|
$|字符串尾部|



### 四、parentheses

`/Chapter (\d+)\.\d*/` includes parentheses, which are used as a memory device. The match(made with this part of the pattern) is remembered for later use.

例如，对于`/a(b)c`，可以匹配字符串`abc`并且记住`b`，可以通过`$1`、`$2`等序号来访问匹配的 these parenthesized substring matches.

用法：Using parenthesized substring matches

```
var reg = /(\w+)\s(\w+)/;
var str = 'John Smith';
var newStr = str.replace(reg, "$2, $1");

newStr == "Smith, John"
```
