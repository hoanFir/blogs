
## 改进方案：Promise.all()

```javascript

//3
//concurrent
function concurrentPromise() {
  return Promise.all([resolveAfter2Seconds(), resolveAfter1Second()]).then((messages) => {
    console.log(messages[0]) // slow
    console.log(messages[1]) // fast
  })
  //same as concurrentStart
}

```

## 改进方案：parallel = async/wait + Promise.all()

If we wish to safely perform two or more jobs in parallel, we must await a call to Promise.all, or Promise.allSettled.

```javascript


async function parallel() {
 
  await Promise.all([
      (async ()=>console.log(await resolveAfter2Seconds()))(),
      (async ()=>console.log(await resolveAfter1Second()))()
  ])
  
  //truly parallel: after 1 second, logs "fast", then after 1 more second, "slow"
}

```
