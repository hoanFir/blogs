🐾 网络请求统一封装模块

🕘 2019.10.31 由 hoanfirst 编辑

### axios

service.js

```javascript

const serviceManage = {
  
  getData: (data) => {
    return Axios.get('/api/data/list', data);
  }
  addData: (data) => {
    return Axios.post('/api/data/add', data);
  }

}

export default serviceManage;

```

axios.js

```javascript

import axios from 'axios';

/* 配置网络请求拦截器 */
axios.interceptor.request.use(function(config) {
  config.headers['Content-Type'] = 'application/json;charset=UTF-8';
  config.headers['X-Request-With'] = 'XMLHttpRequest';
  return config;
}, function(error) {
  return Promise.reject(error);
});

axios.interceptors.response.use(function(res) {
  console.log(res);
  return res;
}, function(error) {
  rerturn Promise.reject(error);
})

const Axios = {
  get: (url, option) => {
    return new Promise(function(resolve, reject) {
      axios.get(url, { params: option }).then(function(res) {
        resolve.apply(undefined, arguments);
      }).catch(function() {
        resolve.apply(undefined, arguments);
      })
    })
  },
  post: (url, option) => {
    return new Promise(function (resolve, reject) {
        axios.post(url, option).then(function (res) {
            resolve.apply(undefined, arguments);
        }).catch(function () {
            resolve.apply(undefined, arguments);
        });
    });
  },
}

export default Axios;


```
