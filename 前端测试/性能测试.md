
糟糕的网站性能是导致用户体验不流畅的主要原因之一。

性能测试，衡量的是影响用户使用网站的流畅程度的关键指标，包括页面大小、请求数量、 首字节时间(time to first byte，TTFB)、加载时间和滚动性能等。

## 一、制定性能预算

制定性能预算指为每个关键指标设定目标值。

在所有代码合并或部署之前持续测试这些指标，若有任何一个指标没通过测试，则需要调整新增的功能，或删除一些其他功能。

制定性能预算的第一种方法：

参考竞争对手，做到比对手更好，保证指标能领先竞争对手 20% 甚至更多。并且要知道，优化关键指标并不能一劳永逸，它需要的是持续监控。可以确定的是，你的竞争对手也正在寻找方法来改善和优化他们自己的网站。

制定性能预算的第二种方法：

参考行业平均水准和通用的最佳实例。[HTTPArchive](http://httparchive.org/)测试并记录了几十万个网站的各种性能指标。当然，保证指标领先行业平均水准的 20% 甚至更多。


## 二、最基本的指标

网站性能最基本的测试是看渲染页面所需要的资源，包括这些资源的大小和总数。

### 2.1 页面大小

- 过多大图片

- 过多自定义字体

在项目里使用多种不同字体、过多图标字体（可以考虑使用内联svg代替）

- 压缩代码和文件

通过打包工具压缩代码、在服务器将文件发送到浏览器之前使用 gzip 压缩

- ...


### 2.2 请求数量

浏览器对 HTTP 请求的次数有单域名并发限制，所以大量单独的文件意味着浏览器必须进行多轮并发请求。在速度较慢的网络环境中，这么多并发请求会造成很复杂的影响。

- 将资源分布到不同的服务器（或者CDN）

解决单域名并发限制，浏览器可以单次并发并发下载更多的资源

- 将多个单独文件合并到一个文件中

如把数十个 .css 和 .js 文件合并到一个文件中

- 合并多个单独的图像文件

如合并成一个图像映射或者图标字体，使用 Compass 和 Grunt/Gulp 插件可以自动化地完成这些任务

- 动态加载非首页必须资源

进行 code split

- ...


## 三、时间指标



