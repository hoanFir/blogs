ğŸ¾ æ³›å‹çš„ä½¿ç”¨

ğŸ•˜ 2019.10.12 ç”± hoanfirst ç¼–è¾‘


**åœ¨typeScriptä¸­ï¼Œæ³›å‹æ˜¯ä¸€ç§æ”¯æŒ`å¯å¤ç”¨ä»£ç ç»„ä»¶`çš„å·¥å…·**ã€‚ç®€å•çš„æ¥è¯´ï¼Œé€šè¿‡æ³›å‹ï¼Œå¼€å‘è€…å¯ä»¥å°†åŒä¸€å¥—ä»£ç ç»„ä»¶ç”¨äºä»»æ„ç±»å‹çš„è¾“å…¥ï¼Œå®ç°å¤ç”¨ã€‚

### åœ¨æ²¡æœ‰ä½¿ç”¨æ³›å‹ä¹‹å‰

```javascript

class Test {
  constructor() {
    this.names = [];
  }
  get(index: number): string {
    return this.names[index];
  }
  add(item: string) {
    this.names.push(item);
  }
}

```

å¯¹äºä¸Šé¢çš„ç±»ï¼Œå¾ˆæ˜æ˜¾å¯ä»¥çŸ¥é“å…¶ç”¨äºä¸€ä¸ªstringç±»å‹çš„é›†åˆã€‚ä½†å¦‚æœæƒ³è¦å°†é‡Œé¢çš„ä¸šåŠ¡é€»è¾‘ç”¨äºnumberç±»å‹çš„ï¼Œå°±ä¸å¯ä»¥äº†ã€‚åªèƒ½é‡æ–°åˆ›å»ºï¼š

```javascript

class TestString {
  constructor() {
    this.names = [];
  }
  get(index: number): string {
    return this.names[index];
  }
  add(item: string) {
    this.names.push(item);
  }
}

class TestNumber {
  constructor() {
    this.ages = [];
  }
  get(index: number): number {
    return this.ages[index];
  }
  add(item: number) {
    this.ages.push(item);
  }
}

```

ä»ä¸Šé¢çš„ä»£ç çœ‹ï¼Œå¾ˆæ˜æ˜¾å‡ºç°äº†ä¸€ä¸ªå¾ˆå¤§çš„é—®é¢˜â€”â€”**ä»£ç é‡å¤**ï¼Œæœ€ç»ˆå¯¼è‡´ç¼–å†™æˆæœ¬å’Œè°ƒè¯•æˆæœ¬å¢å¤šï¼Œå¹¶ä¸”é™ä½å†…å­˜çš„æ‰§è¡Œæ•ˆç‡ã€‚

### ä½¿ç”¨anyç±»å‹

æ—¢ç„¶ä¸ºäº†é€‚ç”¨äºä¸åŒæˆ–è€…è¯´ä»»æ„ç±»å‹çš„å‚æ•°ï¼Œé‚£ç›´æ¥ä½¿ç”¨anyç±»å‹å‘¢ï¼Ÿ

```javascript

class Test {
  constructor() {
    this.args = [];
  }
  get(index: number): any {
    return this.args[index];
  }
  add(item: any) {
    this.args.push(item);
  }
}

```

ä½†typescriptä¸å»ºè®®ä½¿ç”¨anyç±»å‹ï¼š

- è¿èƒŒäº†typescriptå‡ºç°çš„åˆè¡·

- è°ƒè¯•æ—¶ç¼ºä¹å®Œæ•´çš„ä¿¡æ¯

### å¼•å…¥æ³›å‹

- è¯­æ³•

```javascript

//åœ¨å‡½æ•°ä¸Šä½¿ç”¨
function identity<T>(agr: T): T {
  return arg;
}

//åœ¨ç±»ä¸Šä½¿ç”¨
class Test<T> {
  constructor() {
    this.args = [];
  }
  get(index: number): T {
    return this.args[index];
  }
  add(item: T) {
    this.args.push(number);
  }
}

let Strings = new Test<String>();
let Numbers = nwe Test<Number>();

//åœ¨å®ä¾‹æ–¹æ³•ä¸Šä½¿ç”¨
class Test {
  constructor() {
    this.args = [];
  }
  add<A>(item: A): void {
    this._things.push(item);
  }
  get<B>(index: number): B {
    return this.args[index];
  }
}

//åœ¨é™æ€æ–¹æ³•ä¸Šä½¿ç”¨
class Test {
  private _args: any[];
  constructor() {
    this._args = [];
  }
  static add<A>(item: A): void {
    _args.push(item);
  }
  get<B>(index: number): B {
    return this._args[index];
  }
}

```

å°–æ‹¬å·é‡Œé¢çš„Tï¼Œå°±è¡¨æ˜ä½¿ç”¨æ—¶ä¼ å…¥çš„å‚æ•°ã€‚åœ¨ä½¿ç”¨æ—¶å¯ä»¥ä¼ å…¥ä»»æ„ç±»å‹çš„æ•°æ®ã€‚

### å¼•å…¥æ³›å‹çº¦æŸ

ç›´æ¥ä½¿ç”¨æ³›å‹ï¼Œæ˜¯æœ‰ç¼ºé™·çš„ã€‚

ä½¿ç”¨æ³›å‹ï¼Œè®¸å¤šå±æ€§çš„ç±»å‹éƒ½èƒ½è¢«typeScriptæ¨æ–­å‡ºæ¥ï¼Œç„¶è€Œï¼Œåœ¨æŸäº›typeScriptä¸èƒ½åšå‡ºå‡†ç¡®æ¨æ–­çš„åœ°æ–¹ï¼Œå®ƒä¸ä¼šåšä»»ä½•å‡è®¾ã€‚

ä¸ºäº†ç±»å‹å®‰å…¨ï¼Œä½ éœ€è¦å°†è¿™äº›è¦æ±‚æˆ–è€…çº¦æŸå®šä¹‰ä¸º`æ¥å£`ï¼Œå¹¶åœ¨æ³›å‹åˆå§‹åŒ–ä¸­ç»§æ‰¿å®ƒä»¬ã€‚

```javascript

//1. ä¸ä½¿ç”¨æ³›å‹çº¦æŸ
function printName<T>(arg: T) {
  console.log(arg.length);
  return arg;
}
printName(3);
//åœ¨è¿™ä¸ªå‡½æ•°é‡Œï¼Œtypescriptå°±ä¸èƒ½åšå‡ºå‡†ç¡®æ¨æ–­argæ˜¯ä»€ä¹ˆç±»å‹ï¼Œä¹Ÿå°±ä¸èƒ½è¯æ˜æ˜¯ä¸æ˜¯å«æœ‰lengthå±æ€§ã€‚

//2. ä½¿ç”¨æ³›å‹çº¦æŸ
interface NameArgs {
  length: number;
}

function printName<T extends NameArgs>(arg: T) {
  console.log(arg.length);
  return arg;
}

```
